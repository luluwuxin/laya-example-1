"use strict";function DrivingControl(i,t){DrivingControl.super(this),this.m_uiDriveButton1=t.m_uiDriveButton1,this.m_uiDriveButton2=t.m_uiDriveButton2,this.m_uiDriveButton3=t.m_uiDriveButton3,this.m_uiDrive_speed=t.m_uiDrive_speed,this.m_uiDrive_accer=t.m_uiDrive_accer,this.m_uiDrive_steerSlider=t.m_uiDrive_steerSlider,this.m_uiDrive_steerImage=t.m_uiDrive_steerImage,this.initDriveButtonUI(),this.client=i.on("drive_info",this,function(){this.refreshDriveButtonUI()}).on("car_state",this,function(){this.refreshCarStateUI()})}Laya.class(DrivingControl,"DrivingControl",Laya.EventDispatcher),DrivingControl.BEFORE_START="DrivingControl.BEFORE_START",DrivingControl.prototype.initDriveButtonUI=function(){this.m_uiDriveButton1.on(Laya.Event.CLICK,this,function(){this.client.sendDriveInfo(0)}),this.m_uiDriveButton2.on(Laya.Event.CLICK,this,function(){this.event(DrivingControl.BEFORE_START),this.client.sendDriveInfo(1)}),this.m_uiDriveButton3.on(Laya.Event.CLICK,this,function(){this.client.sendDriveInfo(2)})},DrivingControl.prototype.refreshDriveButtonUI=function(){if(this.client.data.drive_info)switch(this.client.data.drive_info.status){case 0:this.m_uiDriveButton1.visible=!1,this.m_uiDriveButton2.visible=!0,this.m_uiDriveButton3.visible=!1;break;case 1:this.m_uiDriveButton1.visible=!0,this.m_uiDriveButton2.visible=!1,this.m_uiDriveButton3.visible=!0;break;case 2:this.m_uiDriveButton1.visible=!0,this.m_uiDriveButton2.visible=!0,this.m_uiDriveButton3.visible=!1}},DrivingControl.prototype.refreshCarStateUI=function(){this.client.data.car_state&&(this.m_uiDrive_speed.text=this.client.data.car_state.speed.toFixed(3),this.m_uiDrive_accer.text=this.client.data.car_state.accer.toFixed(3),this.m_uiDrive_steerSlider.value=this.client.data.car_state.steer,this.m_uiDrive_steerImage.rotation=90*this.client.data.car_state.steer)};