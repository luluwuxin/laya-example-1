function DrivingUI(i,t){DrivingUI.super(this),this.initSceneListUI(),this.initSettingTabUI(),this.initPathUI(),this.initWeatherUI(),this.initTrafficUI(),this.pageChooser=i,this.modalBlocker=new ModalBlocker(this),this.bannerControl=new BannerControl(i,{m_uiBanner_logo:this.m_uiBanner_logo,m_uiBanner_home:this.m_uiBanner_home,m_uiBanner_setup:this.m_uiBanner_setup,m_uiBanner_scene:this.m_uiBanner_scene,m_uiBanner_scenario:this.m_uiBanner_scenario}),this.sensorControl=new SensorControl(i,t,{m_uiSensorButton1:this.m_uiSensorButton1,m_uiSensorButton2:this.m_uiSensorButton2,m_uiSensorButton3:this.m_uiSensorButton3,m_uiSensorList:this.m_uiSensorList}),this.sumoControl=new SumoControl(t,{m_uiSumoButton1:this.m_uiSumoButton1,m_uiSumoButton2:this.m_uiSumoButton2,m_uiSumoButton3:this.m_uiSumoButton3}),this.drivingControl=new DrivingControl(t,{m_uiDriveButton1:this.m_uiDriveButton1,m_uiDriveButton2:this.m_uiDriveButton2,m_uiDriveButton3:this.m_uiDriveButton3,m_uiDrive_speed:this.m_uiDrive_speed,m_uiDrive_accer:this.m_uiDrive_accer,m_uiDrive_steerSlider:this.m_uiDrive_steerSlider,m_uiDrive_steerImage:this.m_uiDrive_steerImage}),this.client=t.on("scene_list",this,function(){this.refreshSceneListUI()}).on("scene_info",this,function(){this.refreshSceneListUI(),this.refreshPathUI()}).on("weather_info",this,function(){this.refreshWeatherUI()}).on("traffic_info",this,function(){this.refreshTrafficUI()}).on("loading",this,function(){this.modalBlocker.resume()})}Laya.class(DrivingUI,"DrivingUI",DrivingPageUI),DrivingUI.prototype.initSceneListUI=function(){this.m_uiSceneList.on(Laya.Event.RENDER,this,function(i){var t=i.getChildByName("image"),e=i.getChildByName("label");t.offAll(Laya.Event.DOUBLE_CLICK),t.on(Laya.Event.DOUBLE_CLICK,this,function(i){this.client.data.scene_info.scene!==e.text&&(this.client.data.scene_info.scene=e.text,this.client.send("scene_info"),this.modalBlocker.block())})})},DrivingUI.prototype.initSettingTabUI=function(){this.m_uiSettingTab.on(Laya.Event.CHANGE,this,function(){var i=[this.m_uiPath,this.m_uiWeather,this.m_uiTraffic],t=this.m_uiSettingTab.selectedIndex;i.forEach(function(i,e){i.visible=e===t})})},DrivingUI.prototype.initPathUI=function(){this.m_uiPathList.mouseHandler=new Handler(this,function(i,t){i.type,Laya.Event.CLICK}),this.m_uiPathList.array=[]},DrivingUI.prototype.initWeatherUI=function(){function i(i){var t=parseFloat(i.text);isFinite(t)&&this.client.data.weather_info.temperature!==t?(this.client.data.weather_info.temperature=t,this.client.send("weather_info")):this.client.fire("weather_info")}function t(i){var t=parseFloat(i.text);isFinite(t)&&this.client.data.weather_info.time_of_day!==t?(this.client.data.weather_info.time_of_day=t,this.client.send("weather_info")):this.client.fire("weather_info")}this.m_uiWeather_temperature.on(Laya.Event.ENTER,this,i),this.m_uiWeather_temperature.on(Laya.Event.BLUR,this,i),this.m_uiWeather_timeOfDay.on(Laya.Event.ENTER,this,t),this.m_uiWeather_timeOfDay.on(Laya.Event.BLUR,this,t),this.m_uiWeather_rainType.on(Laya.Event.CHANGE,this,function(i){var t=i.target.selectedIndex>0;this.client.data.weather_info.rain_type!==t&&(this.client.data.weather_info.rain_type=t,this.client.send("weather_info"))}),this.m_uiWeather_snowType.on(Laya.Event.CHANGE,this,function(i){var t=i.target.selectedIndex>0;this.client.data.weather_info.snow_type!==t&&(this.client.data.weather_info.snow_type=t,this.client.send("weather_info"))}),this.m_uiWeather_fogType.on(Laya.Event.CHANGE,this,function(i){var t=i.target.selectedIndex>0;this.client.data.weather_info.fog_type!==t&&(this.client.data.weather_info.fog_type=t,this.client.send("weather_info"))})},DrivingUI.prototype.initTrafficUI=function(){function i(i){var t=parseFloat(i.text);isFinite(t)&&this.client.data.traffic_info.car_density!==t?(this.client.data.traffic_info.car_density=t,this.client.send("traffic_info")):this.client.fire("traffic_info")}function t(i){var t=parseFloat(i.text);isFinite(t)&&this.client.data.traffic_info.car_irregularity!==t?(this.client.data.traffic_info.car_irregularity=t,this.client.send("traffic_info")):this.client.fire("traffic_info")}function e(i){var t=parseFloat(i.text);isFinite(t)&&this.client.data.traffic_info.pedestrain_density!==t?(this.client.data.traffic_info.pedestrain_density=t,this.client.send("traffic_info")):this.client.fire("traffic_info")}this.m_uiTraffic_carDensity_input.on(Laya.Event.ENTER,this,i),this.m_uiTraffic_carDensity_input.on(Laya.Event.BLUR,this,i),this.m_uiTraffic_carDensity_slider.on(Laya.Event.CHANGED,this,function(){this.client.data.traffic_info.car_density=this.m_uiTraffic_carDensity_slider.value,this.client.send("traffic_info")}),this.m_uiTraffic_carIrregularity_input.on(Laya.Event.ENTER,this,t),this.m_uiTraffic_carIrregularity_input.on(Laya.Event.BLUR,this,t),this.m_uiTraffic_carIrregularity_slider.on(Laya.Event.CHANGED,this,function(){this.client.data.traffic_info.car_irregularity=this.m_uiTraffic_carIrregularity_slider.value,this.client.send("traffic_info")}),this.m_uiTraffic_pedestrainDensity_input.on(Laya.Event.INPUT,this,e),this.m_uiTraffic_pedestrainDensity_input.on(Laya.Event.BLUR,this,e),this.m_uiTraffic_pedestrainDensity_slider.on(Laya.Event.CHANGED,this,function(){this.client.data.traffic_info.pedestrain_density=this.m_uiTraffic_pedestrainDensity_slider.value,this.client.send("traffic_info")})},DrivingUI.prototype.refreshSceneListUI=function(){var i=[],t=this.client.data.scene_info?this.client.data.scene_info.scene:"";this.client.data.scene_list.data.forEach(function(e){i.push({label:{text:e.scene},image:{skin:e.image},highlight:{visible:e.scene===t}})}),this.m_uiSceneList.array=i},DrivingUI.prototype.refreshPathUI=function(){var i=[];i.push({label:{text:"Default"},image:{skin:"custom/image_path_default.png"}}),this.m_uiPathList.array=i},DrivingUI.prototype.refreshWeatherUI=function(){this.m_uiWeather_temperature.text=""+this.client.data.weather_info.temperature,this.m_uiWeather_timeOfDay.text=""+this.client.data.weather_info.time_of_day,this.m_uiWeather_rainType.selectedIndex=this.client.data.weather_info.rain_type?1:0,this.m_uiWeather_snowType.selectedIndex=this.client.data.weather_info.snow_type?1:0,this.m_uiWeather_fogType.selectedIndex=this.client.data.weather_info.fog_type?1:0},DrivingUI.prototype.refreshTrafficUI=function(){this.m_uiTraffic_carDensity_slider.value=this.client.data.traffic_info.car_density,this.m_uiTraffic_carDensity_input.text=""+this.client.data.traffic_info.car_density,this.m_uiTraffic_carIrregularity_slider.value=this.client.data.traffic_info.car_irregularity,this.m_uiTraffic_carIrregularity_input.text=""+this.client.data.traffic_info.car_irregularity,this.m_uiTraffic_pedestrainDensity_slider.value=this.client.data.traffic_info.pedestrain_density,this.m_uiTraffic_pedestrainDensity_input.text=""+this.client.data.traffic_info.pedestrain_density};