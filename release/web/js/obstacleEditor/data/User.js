var UserEvent={SCENE_OBJECT_SELECTED:"scene object selected",ROUTE_POINT_SELECTED:"route point selected"};class User extends EventObject{constructor(e){super(),this._obstacleManager=e,this._selectedSceneObject=null,this._selectedRoutePoint=null,this._obstacleManager.registerEvent(ObstacleManagerEvent.REMOVED,this,this.onObstacleRemoved),this._mainCar=this._obstacleManager.mainCar,this._mainCar.registerEvent(ObstacleEvent.ROUTE_POINT_REMOVED,this,this.onRoutePointRemoved)}selectSceneObject(e){if(this._selectedSceneObject!=e){var t=this._selectedSceneObject;this._selectedSceneObject=e,null!=t&&t.unregisterEvent(SceneObjectEvent.ROUTE_POINT_REMOVED,this,this.onRoutePointRemoved),null!=e&&e.registerEvent(SceneObjectEvent.ROUTE_POINT_REMOVED,this,this.onRoutePointRemoved),this.sendEvent(UserEvent.SCENE_OBJECT_SELECTED,this._selectedSceneObject,t),null==e?this.selectRoutePoint(null):0==e.route.points.length?this.selectRoutePoint(null):this.selectRoutePoint(e.route.points[0])}}getSelectedSceneObject(){return this._selectedSceneObject}isObstacleSelected(){return null!=this._selectedSceneObject&&this._selectedSceneObject.sceneObjectType==SceneObjectType.OBSTACLE}selectObstacle(e){this.selectSceneObject(e)}getSelectedObstacle(){return this.isObstacleSelected()?this._selectedSceneObject:null}onObstacleRemoved(e,t,s){t==this.getSelectedObstacle()&&this.selectObstacle(null)}isMainCarSelected(){return null!=this._selectedSceneObject&&this._selectedSceneObject.sceneObjectType==SceneObjectType.MAIN_CAR}selectMainCar(e){e?this.selectSceneObject(this._mainCar):this.selectSceneObject(null)}selectRoutePoint(e){if(this._selectedRoutePoint!=e){var t=this._selectedRoutePoint;this._selectedRoutePoint=e,this.sendEvent(UserEvent.ROUTE_POINT_SELECTED,this._selectedRoutePoint,t)}}getSelectedRoutePoint(){return this._selectedRoutePoint}onRoutePointRemoved(e,t){t==this.getSelectedRoutePoint()&&this.selectRoutePoint(null)}clear(){this.selectSceneObject(null)}}