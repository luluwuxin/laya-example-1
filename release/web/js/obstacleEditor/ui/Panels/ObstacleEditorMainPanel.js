function ObstacleEditorMainPanelScript(a){this._saveCase=function(){null!=this._saveCaseCallback&&(this._saveCaseCallback.call(this._saveCaseCaller),this._loadedDataManager.onDataSaved())},this.setSaveCaseCallback=function(a,e){this._saveCaseCaller=a,this._saveCaseCallback=e},this.setCloseCallback=function(a,e){this._closeCaseCaller=a,this._closeCallback=e},ObstacleEditorMainPanelScript.super(this),DependencesHelper.setDependences(this,a),a.mainPanel=this,this.mapPanel=new MapPanelScript(a),this.mapPanelContainer.addChild(this.mapPanel),this.mainCarPanel=new MainCarPanelScript(a),this.mainCarPanelContainer.addChild(this.mainCarPanel),this.obstaclePanel=new ObstaclePanelScript(a),this.obstaclePanelContainer.addChild(this.obstaclePanel),this.obstacleInfoPanel=new ObstacleInfoPanelScript(a),this.objectInfoPanelContainer.addChild(this.obstacleInfoPanel),this.mainCarInfoPanel=new MainCarInfoPanelScript(a),this.objectInfoPanelContainer.addChild(this.mainCarInfoPanel),this.routePointInfoPanel=new RoutePointInfoPanelScript(a),this.routePointInfoPanelContainer.addChild(this.routePointInfoPanel),this.debugPanel=new DebugPanelScript(a),this.debugPanel.visible=!1,this.addChild(this.debugPanel),this._keyboardEventsManager.registerKeyEvent(Keyboard.D,this,function(){this.debugPanel.visible=!this.debugPanel.visible},Keyboard.SHIFT),this._loadedDataManager.registerEvent(LoadedDataManagerEvent.DATA_DIRTY_CHANGED,this,function(a,e){this.saveButton.label=e?"Save*":"Save"}),this.saveButton.on(Event.CLICK,this,function(a){this._saveCase()}),this.closeButton.on(Event.CLICK,this,function(a){var e=function(){null!=this._closeCallback&&this._closeCallback.call(this._closeCaseCaller),this.destroy()};this._loadedDataManager.hasUnsavedData()?new AskPopupWindowScript("You have unsaved data, save it?",this,function(){this._saveCase(),e.call(this)},function(){e.call(this)}).popup():e.call(this)}),this.undoButton.on(Event.CLICK,this,function(){this._historyManager.undo()}),this.redoButton.on(Event.CLICK,this,function(){this._historyManager.redo()})}Laya.class(ObstacleEditorMainPanelScript,"ObstacleEditorMainPanelScript",ObstacleEditorMainPanelUI);